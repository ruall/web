<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        #content {
            width: 300px;
            height: 300px;
            border: 1px solid black;
            margin-top: 10px;
        }
    </style>
</head>
<body>
<h3>该页面测试ajax请求</h3>
<button id="btn">点击发送ajax-get请求</button>
<button id="btn1">点击发送ajax-post请求</button>
<div id="content"></div>

<script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script type="text/javascript">

    const btn = $('#btn')
    const btn1 = $('#btn1')
    const content = $('#content')

    btn.click(() => {
        //使用jQuery发送ajax-get请求（完整版）
        // $.ajax({
        //     url: 'http://127.0.0.1:8080/test_jquery_get', //请求地址
        //     method: 'GET', //请求方式(默认值是GET)
        //     data: {address: 'wuhan'}, //携带数据
        //     dataType: 'json',//配置响应数据格式
        //     timeout: 2000, // 指定超时时间
        //     success: function (res) { //成功的回调
        //         // content.html(`汽车名：${res.name}，价格：${res.price}`)
        //         content.append(`<div>汽车名：${res.name}，价格：${res.price}</div>`)
        //     },
        //     error: function () { //失败的回调
        //     }
        // })

        //使用jQuery发送ajax-get请求（精简版）
        // $.get('http://127.0.0.1:8080/test_jquery_get/wuhan1', {address: 'wuhan'}, (data) => {
        //     console.log(data);
        // }, 'json')

    })

    btn1.click(() => {
        let params = {address: 'wuhan'}
        $.ajax({
            url: 'http://127.0.0.1:8080/test_jquery_post', //请求地址
            method: 'POST', //请求方式(默认值是GET)
            data: JSON.stringify(params), //携带数据
            dataType: 'json',//配置响应数据格式
            headers: {
                'Content-Type': 'application/json'
            },
            timeout: 2000, // 指定超时时间
            success: function (res) { //成功的回调
                // content.html(`汽车名：${res.name}，价格：${res.price}`)
                content.append(`<div>汽车名：${res.name}，价格：${res.price}</div>`)
            },
            error: function () { //失败的回调
            }
        })
    })

</script>
</body>
</html>